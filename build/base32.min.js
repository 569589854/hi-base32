(function(t,z){var v="undefined"!=typeof module;v&&(t=global);var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),c={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},w=function(u){for(var a=[],b=0;b<u.length;b++){var d=u.charCodeAt(b);128>d?a[a.length]=d:(2048>d?a[a.length]=192|d>>6:(55296>d||57344<=d?a[a.length]=224|d>>12:(d=65536+((d&1023)<<10|u.charCodeAt(++b)&1023),a[a.length]=240|d>>18,a[a.length]=
128|d>>12&63),a[a.length]=128|d>>6&63),a[a.length]=128|d&63)}return a},x=function(a){a=a.replace(/=/g,"");for(var r,b,d,f,g,l,h,k,p=[],e=0,q=a.length,n=0,m=q>>3<<3;n<m;)r=c[a.charAt(n++)],b=c[a.charAt(n++)],d=c[a.charAt(n++)],f=c[a.charAt(n++)],g=c[a.charAt(n++)],l=c[a.charAt(n++)],h=c[a.charAt(n++)],k=c[a.charAt(n++)],p[e++]=(r<<3|b>>>2)&255,p[e++]=(b<<6|d<<1|f>>>4)&255,p[e++]=(f<<4|g>>>1)&255,p[e++]=(g<<7|l<<2|h>>>3)&255,p[e++]=(h<<5|k)&255;r=q-m;2==r?(r=c[a.charAt(n++)],b=c[a.charAt(n++)],p[e++]=
(r<<3|b>>>2)&255):4==r?(r=c[a.charAt(n++)],b=c[a.charAt(n++)],d=c[a.charAt(n++)],f=c[a.charAt(n++)],p[e++]=(r<<3|b>>>2)&255,p[e++]=(b<<6|d<<1|f>>>4)&255):5==r?(r=c[a.charAt(n++)],b=c[a.charAt(n++)],d=c[a.charAt(n++)],f=c[a.charAt(n++)],g=c[a.charAt(n++)],p[e++]=(r<<3|b>>>2)&255,p[e++]=(b<<6|d<<1|f>>>4)&255,p[e++]=(f<<4|g>>>1)&255):7==r&&(r=c[a.charAt(n++)],b=c[a.charAt(n++)],d=c[a.charAt(n++)],f=c[a.charAt(n++)],g=c[a.charAt(n++)],l=c[a.charAt(n++)],h=c[a.charAt(n++)],p[e++]=(r<<3|b>>>2)&255,p[e++]=
(b<<6|d<<1|f>>>4)&255,p[e++]=(f<<4|g>>>1)&255,p[e++]=(g<<7|l<<2|h>>>3)&255);return p},y={encode:function(c,r){if(!r&&/[^\x00-\x7F]/.test(c)){for(var b,d,f,g,l,h="",k=w(c),p=k.length,e=0,q=5*parseInt(p/5);e<q;)b=k[e++],d=k[e++],f=k[e++],g=k[e++],l=k[e++],h+=a[b>>>3]+a[(b<<2|d>>>6)&31]+a[d>>>1&31]+a[(d<<4|f>>>4)&31]+a[(f<<1|g>>>7)&31]+a[g>>>2&31]+a[(g<<3|l>>>5)&31]+a[l&31];b=p-q;1==b?(b=k[e],h+=a[b>>>3]+a[b<<2&31]+"======"):2==b?(b=k[e++],d=k[e],h+=a[b>>>3]+a[(b<<2|d>>>6)&31]+a[d>>>1&31]+a[d<<4&31]+
"===="):3==b?(b=k[e++],d=k[e++],f=k[e],h+=a[b>>>3]+a[(b<<2|d>>>6)&31]+a[d>>>1&31]+a[(d<<4|f>>>4)&31]+a[f<<1&31]+"==="):4==b&&(b=k[e++],d=k[e++],f=k[e++],g=k[e],h+=a[b>>>3]+a[(b<<2|d>>>6)&31]+a[d>>>1&31]+a[(d<<4|f>>>4)&31]+a[(f<<1|g>>>7)&31]+a[g>>>2&31]+a[g<<3&31]+"=");return h}h="";l=c.length;k=0;for(p=5*parseInt(l/5);k<p;)e=c.charCodeAt(k++),b=c.charCodeAt(k++),d=c.charCodeAt(k++),f=c.charCodeAt(k++),g=c.charCodeAt(k++),h+=a[e>>>3]+a[(e<<2|b>>>6)&31]+a[b>>>1&31]+a[(b<<4|d>>>4)&31]+a[(d<<1|f>>>7)&
31]+a[f>>>2&31]+a[(f<<3|g>>>5)&31]+a[g&31];e=l-p;1==e?(e=c.charCodeAt(k),h+=a[e>>>3]+a[e<<2&31]+"======"):2==e?(e=c.charCodeAt(k++),b=c.charCodeAt(k),h+=a[e>>>3]+a[(e<<2|b>>>6)&31]+a[b>>>1&31]+a[b<<4&31]+"===="):3==e?(e=c.charCodeAt(k++),b=c.charCodeAt(k++),d=c.charCodeAt(k),h+=a[e>>>3]+a[(e<<2|b>>>6)&31]+a[b>>>1&31]+a[(b<<4|d>>>4)&31]+a[d<<1&31]+"==="):4==e&&(e=c.charCodeAt(k++),b=c.charCodeAt(k++),d=c.charCodeAt(k++),f=c.charCodeAt(k),h+=a[e>>>3]+a[(e<<2|b>>>6)&31]+a[b>>>1&31]+a[(b<<4|d>>>4)&31]+
a[(d<<1|f>>>7)&31]+a[f>>>2&31]+a[f<<3&31]+"=");return h},decode:function(a,r){var b;if(r){b=a.replace(/=/g,"");for(var d,f,g,l,h,k,p,e,q="",n=b.length,m=0,t=n>>3<<3;m<t;)d=c[b.charAt(m++)],f=c[b.charAt(m++)],g=c[b.charAt(m++)],l=c[b.charAt(m++)],h=c[b.charAt(m++)],k=c[b.charAt(m++)],p=c[b.charAt(m++)],e=c[b.charAt(m++)],q+=String.fromCharCode((d<<3|f>>>2)&255)+String.fromCharCode((f<<6|g<<1|l>>>4)&255)+String.fromCharCode((l<<4|h>>>1)&255)+String.fromCharCode((h<<7|k<<2|p>>>3)&255)+String.fromCharCode((p<<
5|e)&255);d=n-t;2==d?(d=c[b.charAt(m++)],f=c[b.charAt(m++)],q+=String.fromCharCode((d<<3|f>>>2)&255)):4==d?(d=c[b.charAt(m++)],f=c[b.charAt(m++)],g=c[b.charAt(m++)],l=c[b.charAt(m++)],q+=String.fromCharCode((d<<3|f>>>2)&255)+String.fromCharCode((f<<6|g<<1|l>>>4)&255)):5==d?(d=c[b.charAt(m++)],f=c[b.charAt(m++)],g=c[b.charAt(m++)],l=c[b.charAt(m++)],h=c[b.charAt(m++)],q+=String.fromCharCode((d<<3|f>>>2)&255)+String.fromCharCode((f<<6|g<<1|l>>>4)&255)+String.fromCharCode((l<<4|h>>>1)&255)):7==d&&(d=
c[b.charAt(m++)],f=c[b.charAt(m++)],g=c[b.charAt(m++)],l=c[b.charAt(m++)],h=c[b.charAt(m++)],k=c[b.charAt(m++)],p=c[b.charAt(m++)],q+=String.fromCharCode((d<<3|f>>>2)&255)+String.fromCharCode((f<<6|g<<1|l>>>4)&255)+String.fromCharCode((l<<4|h>>>1)&255)+String.fromCharCode((h<<7|k<<2|p>>>3)&255));b=q}else for(b="",q=x(a),m=q.length,f=d=0;d<m;)if(g=q[d++],127>=g)b+=String.fromCharCode(g);else{if(191<g&&223>=g)l=g&31,f=1;else if(239>=g)l=g&15,f=2;else if(247>=g)l=g&7,f=3;else throw"not a UTF-8 string";
for(h=0;h<f;++h){g=q[d++];if(128>g||191<g)throw"not a UTF-8 string";l<<=6;l+=g&63}if(55296<=l&&57343>=l)throw"not a UTF-8 string";if(1114111<l)throw"not a UTF-8 string";65535>=l?b+=String.fromCharCode(l):(l-=65536,b+=String.fromCharCode((l>>10)+55296),b+=String.fromCharCode((l&1023)+56320))}return b},encodeAsBytes:w,decodeAsBytes:x};!t.HI_BASE32_TEST&&v?module.exports=y:t&&(t.base32=y)})(this);
